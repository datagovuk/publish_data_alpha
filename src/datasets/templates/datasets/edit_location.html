{% extends 'main_with_navbar.html' %}
{% load static %}
{% load flow_state %}

{% block page_title %}
  Add dataset area
{% endblock %}

{% block inner_content %}

  {% include 'datasets/includes/error_box.html' %}

  <h1 class="heading-large">
    Choose an area
  </h1>

  <p>
    Which area does your dataset cover?
  </p>

  <form
      action="{% url 'edit_dataset_location' dataset.name %}"
      method="POST">

    {% csrf_token %}

    <div
        class="form-group {% if form.location1.errors or form.location2.errors or form.location3.errors %}error{% endif %}"
        id="location_form_group">
      <fieldset>
        <legend class="visually-hidden">Choose a location</legend>
        {% if form.location1.errors or form.location2.errors or form.location3.errors %}
        <span class="error-message">
          Please enter the area that your dataset covers
        </span>
        {% endif %}

        <div id="location1">
          <label class="form-label-bold" for="id_location1">
            <span>First area</span>
          </label>
          <a id="del1" class="secondary-button js-hidden">Remove</a>
          <input
              class="location-input form-control form-control-2-3"
              id="id_location1"
              name="{{ form.location1.html_name }}"
              type="text"
              autocomplete="off"
              value="{{ form.location1.value|default:'' }}" />
        </div>
        <a id="add1" class="secondary-button">
          Add another area
        </a>

        <div id="location2" class="js-hidden">
          <label class="form-label-bold" for="id_location2">
            <span>Second area</span>
          </label>
          <a id="del2" class="secondary-button js-hidden">Remove</a>
          <input
              class="location-input form-control form-control-2-3"
              id="id_location2"
              name="{{ form.location2.html_name }}"
              type="text"
              autocomplete="off"
              value="{{ form.location2.value|default:'' }}" />
        </div>
        <a id="add2" class="secondary-button js-hidden">
          Add another area
        </a>

        <div id="location3" class="js-hidden">
          <label class="form-label-bold" for="id_location3">
            <span>Third area</span>
          </label>
          <a id="del3" class="secondary-button js-hidden">Remove</a>
          <input
              class="location-input form-control form-control-2-3"
              id="id_location3"
              name="{{ form.location3.html_name }}"
              type="text"
              autocomplete="off"
              value="{{ form.location3.value|default:'' }}" />
        </div>
      </fieldset>
    </div>

    <div class="form-group">
      <input type="submit" class="button" value="Save and continue">
      <a
          href="{% url 'edit_dataset_frequency' dataset.name %}"
          class="button-secondary">Skip</a>
    </div>

  </form>

{% endblock %}
